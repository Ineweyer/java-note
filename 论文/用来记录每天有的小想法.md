# 用来记录每天有的小想法
> 每天记录一点，哈哈！‘’

## 18-12-10
1. 得到一个超图表示：首先可以使用InfoMap算法进行社区的划分，之后将每个社区看成是一个节点，之后创建节点之间的联系，形成一个超图，如果当前的划分出来的社区比较多时，迭代地对社区进行划分，直到 得到的超图的节点数比较少，例如K几十或者几百个（这个通过实验进行确定）。
2. 对于每个节点个数不超过K的超图，使用邻接矩阵方面的优化策略进行识别。


## 18-12-11
局部敏感哈希，作用是在基于相似度的查询中能够提供类似索引的功能加快查找，具体的实现为通过哈希函数极可能保证哈希到同一个桶中的数据是相似的。

哈希函数需要满足的条件：
这些 hash function 需要满足以下两个条件：
- 1）如果 d(x,y) ≤ d1， 则 h(x) = h(y) 的概率至少为 p1；
- 2）如果 d(x,y) ≥ d2， 则 h(x) = h(y) 的概率至多为 p2；
  其中 d(x,y) 表示 x 和 y 之间的距离，d1 < d2， h(x) 和 h(y) 分别表示对 x 和 y 进行 hash 变换。满足以上两个条件的 hash functions 称为 (d1,d2,p1,p2)-sensitive。

** 核心 **
- 如何设计哈希函数！
- 节点表示（如何将节点的属性、结构、内容、以及行为等整合到一起，并且是需要一种的统一的表示形式，即具有可比性）

**用法设想**
- 大材小用： 用于计算文本的相似度或者其他的某个方面的相似度！！
- 大材大用：直接针对节点进行哈希，那么以后匹配就只用在桶内了！！，并且可以和上面的结合，在同一个桶内的使用基于矩阵的方式进行小规模匹配。

参考资料
>  [局部敏感哈希原理讲解，里面还有好多资源](https://www.cnblogs.com/wt869054461/p/8148940.html)
>  [第二篇博客,这篇的实用性更强](https://blog.csdn.net/guoziqing506/article/details/53019049)
>  利用局部敏感哈希识别的算法：Heimann, Mark, Wei Ting C Lee, Shengjie Pan, Kuan-Yu Chen and Danai Koutra. “HashAlign: Hash-Based Alignment of Multiple Graphs.” _PAKDD_ (2018).

## 18-12-12
1. one-to-one map是一个NP难问题，一种简单的求法是求出top k ，然后利用top k之间的重叠情况或者当前邻居的匹配情况进行识别。同时还可以在这个过程中加入离心率（次最优比最优显著地小）进行控制，或者说进行选择。

## 18-12-13
想做的几个点：
1. 候选匹配对的生成，如何避免全局的搜索，即和所有的都比较计算相似度
2. 基于传播的方法对于图同构具有很强的敏感性，如何尽可能增加已知的信息来减少图同构性
3. 基于传播的方法中如何加入其它的相似度信息

## 18-12-20
Percolation Graph Matching(PGM) 算法是一类比较特殊的算法，其建立在数学基础之上具有较好的理论基础，但同时也具有比较复杂的数学推理。并且PGM更多作用于Random Graph。

## 18-12-21
将采用隐平面空间的算法和局部敏感哈希进行结合，局部敏感哈希中相似的用户应该投射到相同的桶中，但是哈希函数的选取是一个复杂的问题，如果能够采用隐平面空间的思想来代替这个映射过程的话或许有一个比较不错的效果。

## 19-01-06

1. 理论基础1

两个邻接矩阵的克罗克内尔乘积就是这两个图的Matching Graph(渗透图)
具体的例子
![Fbp3TI.md.png](https://s2.ax1x.com/2019/01/06/Fbp3TI.md.png)
两个网络的邻接矩阵及其克罗内克尔乘积：
![](https://s2.ax1x.com/2019/01/06/FbpYff.png)
其中Kro矩阵行和列代表的意思：
![](https://s2.ax1x.com/2019/01/06/Fbp7h6.png)

2. 理论基础2（REGAL）,这个方法同时可以使用SVD来直接进行求解，功效相同，都是降维。

   基于相似度的节点表示算法：
   $$
   S = Y Z^T
   $$
   其中Y代表节点的嵌入表示

   根据**Nystrom method**算法和**SVD**可以得到一种近似表示
   $$
   \tilde{S} = CW^+C^T, 
   \tilde{S} = CU\Sigma^{\frac{1}{2}}\Sigma^{\frac{1}{2}}V^TC^T,
   \tilde{Y} = CU\Sigma^{\frac{1}{2}}
   $$
   其中C为其中的一个抽样，$W^+$为W的一个伪逆

3. 两种处理方法：

   处理1：将两者进行结合能够得到一种基于新的特征的网络嵌入方法，但是这个描述的是一个匹配对的网络中的信息，这个应该怎么描述呢？

   **换句话说，现在能够得到每对匹配对的嵌入表示，但又应该如何使用这个特征来做处理？**

   处理2：把上面的邻接矩阵换成与已经匹配节点的匹配矩阵。从这个角度出发能够得到一种另外的传播匹配算法的矩阵表示形式。



## 19-01-14

### 两种组合方式：

核心都是注意到和网络对齐不同的是，不需要对所有的节点进行对齐处理，仅需要处理有能力识别的部分，所以对于没有办法识别或者说识别不容易的部分进行删除处理，之后再采取额外的补救措施进行再次识别（例如基于传播，但是在传播的过程中需要使用到其他的相似度）

#### 方式1:

1. 首先采用一个过滤器将识别可能性比较低的部分进行移除（手动降噪，或者基于规则进行降噪），能够想到的一种最简单的策略就是按照节点进行排序，将度数最小的百分之多少进行删除。
2. 基于第一步可以得到一个匹配概率比较大的节点集合，并且同时利用这个选择机制可以使得两个网络节点的数目是相同的。对于这个得到的节点构成的子图就可以使用基于矩阵的方式进行对齐处理，默认认为这些部分是能够很好对齐的。
3. 在网络部分对齐后可以使用对齐的信息基于传播的方法进行识别，此时需要加入额外的其他相似度信息进行辅助，能够提高算法的性能。

**其中涉及到的原理**：

1. 网络的度数服从幂率分布，所以度数较大的节点是少数的，所以过滤策略能够很大程度的降维，
2. 对于少部分的高度数节点是属于含有的信息量比较多的节点，在对他们进行全局匹配能够提高他们之间的匹配正确率，并且这些节点是作为锚点的功能使用，保证锚点信息的正确性。
3. 度数较低节点的匹配受度数较高节点匹配的支配作用更大，因为低阶的结构更加容易相似，即如果能够知道与度数较低节点相连的高度数节点的话能够将低度数节点的从大量的同构中解放出来。

**改进**

基于以上分析，可以直接将过滤策略换为一种地位判断的策略，选择对于识别具有比较大意义的节点进行识别，即借鉴主动识别的思想。

**存在问题**

如果将一部分度数较小的点删除后，图的同构性会变得很强，所以需要分析删除带来的收益能够抵消由于删除导致的信息丢失。但这也可以从另外的一个角度进行处理，如只是作为一个选择策略而不是作为一个删除策略。

### 方式2：

1. 首先进行社区的划分，得到社区划分后将每个社区看成是一个节点，通过统计社区之间边的个数在社区节点之间建立新的带权重的边，得到社区的超图
2. 对社区形成的超图采用，采用基于矩阵的方式进行对齐处理。并且在对齐时采取top k策略，保证不会由于社区的匹配错误导致丢失所有解（这里涉及到一个问题是，社区的划分是否具有可比性？）
3. 对每个社区和其对应的top k分别进行子图上的对齐处理。



## 19-01-20 

**分布式环境下的处理方法**

需要进行数据的分派，需要一个额外的数据分发过程来进行判断数据分发的可能。

或者可以换种思路：

如做在线查询的识别，即每次通过向目标网络中请求数据进行识别。这种方法还有一个优点是，能够在一定的程度上保证用户的隐私，同时对于动态增加的用户也能够进行识别处理，新增加的用户需要同时配合模型的更新。同时这个方法能够做到按需识别，以及个性化识别（按社区块进行处理）。





